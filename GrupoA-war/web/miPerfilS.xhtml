<ui:composition template="/WEB-INF/templates/plantilla_1.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:f="http://xmlns.jcp.org/jsf/core">   
    <ui:define name="title">Mi Perfil</ui:define>
    <ui:define name="content">
        <br/>
        <div class="media">
            <div class="col-md-4"> 
            <img class="img-circle" src="imagenes/fotos_usuarios/castor.jpg" alt="Generic placeholder image" style="width:80%"></img>
            </div>
        </div>
            <div class="col-md-4">
                <h1>Perfil de  <h:outputText value="#{controlAutorizacion.usuario.nombreusuario}"/></h1>
            </div>
            <br/>
            
            <div class="col-md-4">
                <h3>Datos personales:</h3>
            </div>
            <div class="container">
                <h:form>
            <table class="table">
              <thead>
                <tr>
                  <th></th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Nombre:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.nombre}"/></td>
                </tr>
                <tr>
                  <td>Apellidos</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.apellidos}"/></td>
                </tr>
                <tr>
                  <td>Alias:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.nombreusuario}"/></td>
                </tr>
                <tr>
                  <td>Email:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.email}"/></td>
                </tr>
                <tr>
                  <td>Fecha de entrada:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.fechaentrada}"/></td>
                </tr>
                <tr>
                  <td>Dni:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.dni}"/></td>
                </tr>
                <tr>
                  <td>Fecha de nacimiento:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.fechanacimiento}"/></td>
                </tr>
                <tr>
                  <td>Direcci贸n postal:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.calle}"/></td>
                </tr>
                <tr>
                  <td>C贸digo postal:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.codigopostal}"/></td>
                </tr>
                <tr>
                  <td>Localidad:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.localidad}"/></td>
                </tr>
                <tr>
                  <td>Provincia:</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.provincia}"/></td>
                </tr>
                <tr>
                  <td>Secci贸n</td>
                  <td><h:inputText value="#{controlAutorizacion.usuario.cargo}"/></td>
                </tr>
              </tbody>
            </table>
                    <h:commandButton value="Guardar" type="submit"></h:commandButton>
                </h:form>
          </div>
        <br/>
            <div class="container"> 
                <table class="table table-bordered">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">Cuotas actuales</th>
                        <th scope="col">Importe</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Descripci贸n</th>
                      </tr>
                    </thead>
           <ui:repeat value="#{controlPagos.listaCuotas}" var="cuota">
                    <tbody>
                      <tr>
                        <th scope="row"><h:outputText value="#{cuota.id}"/></th>
                        <td><h:outputText value="#{cuota.importe}"/></td>
                        <td><h:outputText value="#{cuota.nombre}"/></td>
                        <td><h:outputText value="#{cuota.descripcion}"/></td>
                      </tr>
                    </tbody>
            </ui:repeat>   
                  </table>
            </div>
              <br/>
              <div class="container">
              <table class="table col-md-4">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">Desglose de pagos</th>
                        <th scope="col">Fecha</th>
                      </tr>
                    </thead>
                        <ui:repeat value="#{controlPagos.listaPagosCuota}" var="pagos">
                            <tbody>
                              <tr>
                                  <th scope="row"><h:outputText value="#{pagos.id}"/></th>
                                <td><h:outputText value="#{pagos.fecha}"/></td>
                              </tr>

                            </tbody>
                        </ui:repeat>
                  </table>
              </div>
    </ui:define>
</ui:composition>